---
- name: Tor ORPort
  changed_when: false
  ansible.builtin.shell: |
    grep "^ORPort" /etc/tor/torrc | awk '{ print $2 }'
  register: result

- name: Set Fact
  ansible.builtin.set_fact:
    curr_port: "{{ result.stdout_lines[0] }}"

- name: ORPort would be changed
  ansible.builtin.debug:
    msg: "current: {{ curr_port }}, future: {{ or_port }}"
  when: curr_port | int != or_port
